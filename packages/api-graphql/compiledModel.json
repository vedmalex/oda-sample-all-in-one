{"entities":[{"metadata":{"name":{"singular":"User","plural":"Users"},"storage":{"indexes":{"userName":{"name":"u","fields":{"userName":1},"options":{"sparse":true,"unique":true}},"id":{"name":"i","fields":{"id":1},"options":{"sparse":true,"unique":true}},"createdBy":{"name":"c","fields":{"createdBy":1},"options":{"sparse":true}},"updateBy":{"name":"u","fields":{"updateBy":1},"options":{"sparse":true}},"createdAt":{"name":"c","fields":{"createdAt":1},"options":{"sparse":true}},"updatedAt":{"name":"u","fields":{"updatedAt":1},"options":{"sparse":true}},"owner":{"name":"o","fields":{"owner":1},"options":{"sparse":true}}},"adapter":"mongoose"},"acl":{"create":[],"read":["authenticated","public"],"update":[],"delete":[]}},"name":"User","description":"User","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true},"acl":{"read":["authenticated","public"],"update":[]}},"name":"userName","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"required":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"password","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"isSystem","persistent":true,"type":"boolean"},{"metadata":{"order":3,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"enabled","persistent":true,"type":"boolean"},{"metadata":{"order":4,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"groups","persistent":true,"relation":{"metadata":{"storage":{"single":false,"stored":false,"embedded":false},"verb":"BelongsToMany","name":{"full":"UserBelongsToManyGroups","normal":"UserGroups","short":"Groups"}},"belongsToMany":"Group#","using":"UsersToGroupsMap#user"}},{"metadata":{"order":5,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true},"acl":{"read":["authenticated","public"],"update":[]}},"name":"id","persistent":true,"type":"ID"},{"metadata":{"order":6,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"createdBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"UserBelongsToCreatedBy","normal":"UserCreatedBy","short":"CreatedBy"}},"belongsTo":"User#"}},{"metadata":{"order":7,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"updateBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"UserBelongsToUpdateBy","normal":"UserUpdateBy","short":"UpdateBy"}},"belongsTo":"User#"}},{"metadata":{"order":8,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"createdAt","persistent":true,"type":"Date"},{"metadata":{"order":9,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"updatedAt","persistent":true,"type":"Date"},{"metadata":{"order":10,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"owner","persistent":true}]},{"metadata":{"name":{"singular":"Group","plural":"Groups"},"storage":{"indexes":{"name":{"name":"n","fields":{"name":1},"options":{"sparse":true,"unique":true}},"text":{"name":"t","fields":{"name":1,"description":1},"options":{"sparse":true}},"id":{"name":"i","fields":{"id":1},"options":{"sparse":true,"unique":true}},"createdBy":{"name":"c","fields":{"createdBy":1},"options":{"sparse":true}},"updateBy":{"name":"u","fields":{"updateBy":1},"options":{"sparse":true}},"createdAt":{"name":"c","fields":{"createdAt":1},"options":{"sparse":true}},"updatedAt":{"name":"u","fields":{"updatedAt":1},"options":{"sparse":true}},"owner":{"name":"o","fields":{"owner":1},"options":{"sparse":true}}},"adapter":"mongoose"},"acl":{"create":[],"read":["authenticated"],"update":[],"delete":[]}},"name":"Group","description":"Group of users that can share common ToDos","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":true,"required":true,"indexed":"text"},"acl":{"read":["authenticated"],"update":[]}},"name":"name","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"indexed":"text","identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"description","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"users","persistent":true,"relation":{"metadata":{"storage":{"single":false,"stored":false,"embedded":false},"verb":"BelongsToMany","name":{"full":"GroupBelongsToManyUsers","normal":"GroupUsers","short":"Users"}},"belongsToMany":"User#","using":"UsersToGroupsMap#group"}},{"metadata":{"order":3,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"todoItems","persistent":true,"relation":{"metadata":{"storage":{"single":false,"stored":false,"embedded":false},"verb":"BelongsToMany","name":{"full":"GroupBelongsToManyTodoItems","normal":"GroupTodoItems","short":"TodoItems"}},"belongsToMany":"ToDoItem#","using":"ToDoItemsSharedToGroupsMap#group"}},{"metadata":{"order":4,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true},"acl":{"read":["authenticated","public"],"update":[]}},"name":"id","persistent":true,"type":"ID"},{"metadata":{"order":5,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"createdBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"GroupBelongsToCreatedBy","normal":"GroupCreatedBy","short":"CreatedBy"}},"belongsTo":"User#"}},{"metadata":{"order":6,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"updateBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"GroupBelongsToUpdateBy","normal":"GroupUpdateBy","short":"UpdateBy"}},"belongsTo":"User#"}},{"metadata":{"order":7,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"createdAt","persistent":true,"type":"Date"},{"metadata":{"order":8,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"updatedAt","persistent":true,"type":"Date"},{"metadata":{"order":9,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"admin"}},"name":"owner","persistent":true}]},{"metadata":{"name":{"singular":"UsersToGroupsMap","plural":"UsersToGroupsMaps"},"storage":{"indexes":{"linkTable":{"name":"l","fields":{"user":1,"group":1},"options":{"sparse":true,"unique":true}},"id":{"name":"i","fields":{"id":1},"options":{"sparse":true,"unique":true}},"createdBy":{"name":"c","fields":{"createdBy":1},"options":{"sparse":true}},"updateBy":{"name":"u","fields":{"updateBy":1},"options":{"sparse":true}},"createdAt":{"name":"c","fields":{"createdAt":1},"options":{"sparse":true}},"updatedAt":{"name":"u","fields":{"updatedAt":1},"options":{"sparse":true}}},"adapter":"mongoose"},"acl":{"create":[],"read":["authenticated","system"],"update":[],"delete":[]}},"name":"UsersToGroupsMap","description":"Users to Groups mapping","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":"linkTable","required":"linkTable","indexed":"linkTable"},"acl":{"read":["authenticated","system"],"update":[]}},"name":"user","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"identity":"linkTable","required":"linkTable","indexed":"linkTable"},"acl":{"read":["authenticated","system"],"update":[]}},"name":"group","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated","system"],"update":[]}},"name":"userLink","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"UsersToGroupsMapBelongsToUserLink","normal":"UsersToGroupsMapUserLink","short":"UserLink"}},"belongsTo":"user@User#"}},{"metadata":{"order":3,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated","system"],"update":[]}},"name":"groupLink","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"UsersToGroupsMapBelongsToGroupLink","normal":"UsersToGroupsMapGroupLink","short":"GroupLink"}},"belongsTo":"group@Group#"}},{"metadata":{"order":4,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true},"acl":{"read":["authenticated","system","public"],"update":[]}},"name":"id","persistent":true,"type":"ID"},{"metadata":{"order":5,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"createdBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"UsersToGroupsMapBelongsToCreatedBy","normal":"UsersToGroupsMapCreatedBy","short":"CreatedBy"}},"belongsTo":"User#"}},{"metadata":{"order":6,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"updateBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"UsersToGroupsMapBelongsToUpdateBy","normal":"UsersToGroupsMapUpdateBy","short":"UpdateBy"}},"belongsTo":"User#"}},{"metadata":{"order":7,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"createdAt","persistent":true,"type":"Date"},{"metadata":{"order":8,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"updatedAt","persistent":true,"type":"Date"}]},{"metadata":{"name":{"singular":"ToDoItem","plural":"ToDoItems"},"storage":{"indexes":{"text":{"name":"t","fields":{"name":1,"description":1},"options":{"sparse":true}},"assignedTo":{"name":"a","fields":{"assignedTo":1},"options":{"sparse":true}},"creator":{"name":"c","fields":{"creator":1},"options":{"sparse":true}},"id":{"name":"i","fields":{"id":1},"options":{"sparse":true,"unique":true}},"createdBy":{"name":"c","fields":{"createdBy":1},"options":{"sparse":true}},"updateBy":{"name":"u","fields":{"updateBy":1},"options":{"sparse":true}},"createdAt":{"name":"c","fields":{"createdAt":1},"options":{"sparse":true}},"updatedAt":{"name":"u","fields":{"updatedAt":1},"options":{"sparse":true}},"owner":{"name":"o","fields":{"owner":1},"options":{"sparse":true}}},"adapter":"mongoose"},"acl":{"create":[],"read":["authenticated","public"],"update":[],"delete":[]}},"name":"ToDoItem","description":"ToDo item","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"done","persistent":true,"type":"Boolean"},{"metadata":{"order":1,"storage":{"persistent":true,"indexed":"text","identity":false},"acl":{"read":["authenticated","public"],"update":[]}},"name":"name","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"indexed":"text","identity":false},"acl":{"read":["authenticated","public"],"update":[]}},"name":"description","persistent":true},{"metadata":{"order":3,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated","public"],"update":[]}},"name":"dueTo","persistent":true,"type":"Date"},{"metadata":{"order":4,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"isPrivate","persistent":true,"type":"Boolean"},{"metadata":{"order":5,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"assignedTo","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemBelongsToAssignedTo","normal":"ToDoItemAssignedTo","short":"AssignedTo"}},"belongsTo":"User#"}},{"metadata":{"order":6,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":["authenticated","public"],"update":[]}},"name":"creator","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemBelongsToCreator","normal":"ToDoItemCreator","short":"Creator"}},"belongsTo":"User#"}},{"metadata":{"order":7,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated"],"update":[]}},"name":"sharedTo","persistent":true,"relation":{"metadata":{"storage":{"single":false,"stored":false,"embedded":false},"verb":"BelongsToMany","name":{"full":"ToDoItemBelongsToManySharedTos","normal":"ToDoItemSharedTos","short":"SharedTos"}},"belongsToMany":"Group#","using":"ToDoItemsSharedToGroupsMap#item"}},{"metadata":{"order":8,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true},"acl":{"read":["authenticated","public"],"update":[]}},"name":"id","persistent":true,"type":"ID"},{"metadata":{"order":9,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"createdBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemBelongsToCreatedBy","normal":"ToDoItemCreatedBy","short":"CreatedBy"}},"belongsTo":"User#"}},{"metadata":{"order":10,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"updateBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemBelongsToUpdateBy","normal":"ToDoItemUpdateBy","short":"UpdateBy"}},"belongsTo":"User#"}},{"metadata":{"order":11,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"createdAt","persistent":true,"type":"Date"},{"metadata":{"order":12,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"updatedAt","persistent":true,"type":"Date"},{"metadata":{"order":13,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"authenticated"}},"name":"owner","persistent":true}]},{"metadata":{"name":{"singular":"ToDoItemsSharedToGroupsMap","plural":"ToDoItemsSharedToGroupsMaps"},"storage":{"indexes":{"shared":{"name":"s","fields":{"item":1,"group":1},"options":{"sparse":true,"unique":true}},"item":{"name":"i","fields":{"item":1},"options":{"sparse":true}},"group":{"name":"g","fields":{"group":1},"options":{"sparse":true}},"id":{"name":"i","fields":{"id":1},"options":{"sparse":true,"unique":true}},"createdBy":{"name":"c","fields":{"createdBy":1},"options":{"sparse":true}},"updateBy":{"name":"u","fields":{"updateBy":1},"options":{"sparse":true}},"createdAt":{"name":"c","fields":{"createdAt":1},"options":{"sparse":true}},"updatedAt":{"name":"u","fields":{"updatedAt":1},"options":{"sparse":true}}},"adapter":"mongoose"},"acl":{"create":[],"read":["authenticated","system"],"update":[],"delete":[]}},"name":"ToDoItemsSharedToGroupsMap","description":"Sharing ToDo items between groups","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":"shared","required":"shared","indexed":true},"acl":{"read":["authenticated","system"],"update":[]}},"name":"item","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"identity":"shared","required":"shared","indexed":true},"acl":{"read":["authenticated","system"],"update":[]}},"name":"group","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated","system"],"update":[]}},"name":"itemLink","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemsSharedToGroupsMapBelongsToItemLink","normal":"ToDoItemsSharedToGroupsMapItemLink","short":"ItemLink"}},"belongsTo":"item@ToDoItem#"}},{"metadata":{"order":3,"storage":{"persistent":true,"identity":false},"acl":{"read":["authenticated","system"],"update":[]}},"name":"groupLink","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemsSharedToGroupsMapBelongsToGroupLink","normal":"ToDoItemsSharedToGroupsMapGroupLink","short":"GroupLink"}},"belongsTo":"group@Group#"}},{"metadata":{"order":4,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true},"acl":{"read":["authenticated","system","public"],"update":[]}},"name":"id","persistent":true,"type":"ID"},{"metadata":{"order":5,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"createdBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemsSharedToGroupsMapBelongsToCreatedBy","normal":"ToDoItemsSharedToGroupsMapCreatedBy","short":"CreatedBy"}},"belongsTo":"User#"}},{"metadata":{"order":6,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"updateBy","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemsSharedToGroupsMapBelongsToUpdateBy","normal":"ToDoItemsSharedToGroupsMapUpdateBy","short":"UpdateBy"}},"belongsTo":"User#"}},{"metadata":{"order":7,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"createdAt","persistent":true,"type":"Date"},{"metadata":{"order":8,"storage":{"persistent":true,"indexed":true,"identity":false},"acl":{"read":"system"}},"name":"updatedAt","persistent":true,"type":"Date"}]}],"packages":[{"name":"system","title":"system","abstract":false,"description":"system","entities":["User","Group","UsersToGroupsMap","ToDoItem","ToDoItemsSharedToGroupsMap"],"mutations":["loginUser"]},{"name":"all","abstract":true,"entities":["User","Group","ToDoItem","ToDoItemsSharedToGroupsMap","UsersToGroupsMap"],"mutations":[]}],"mutations":[{"metadata":{"acl":{"execute":["users","public"]}},"name":"loginUser","args":[{"name":"userName","required":true},{"name":"password","required":true}],"payload":[{"name":"token"}]}]}